{"version":3,"sources":["webpack://vue-jdlstudio/node_modules/codemirror/theme/G:/jhipster/vue-jdlstudio/node_modules/codemirror/theme/base16-dark.css","webpack://vue-jdlstudio/packages/vue-jdlstudio/src/G:/jhipster/vue-jdlstudio/packages/vue-jdlstudio/src/packages/vue-jdlstudio/src/JdlStudio.vue","vue-jdlstudio.css"],"names":[],"mappings":"AAUA,6BAA+B,kBAAA,CAAqB,aAAc,CAClE,0CAA4C,kBAAmB,CAC/D,yJAAmK,6BAAiC,CACpM,wKAAkL,6BAAiC,CACnN,sCAAwC,kBAAA,CAAqB,cAAiB,CAC9E,2CAA6C,aAAc,CAE3D,2FAA2C,aAAc,CACzD,qCAAuC,6BAA8B,CAErE,kCAAoC,aAAc,CAElD,gEAAmC,aAAc,CAEjD,uEAA0E,aAAc,CACxF,kCAAoC,aAAc,CAClD,iCAAmC,aAAc,CAEjD,mCAAqC,aAAc,CACnD,qCAAuC,aAAc,CACrD,8BAAgC,aAAc,CAC9C,kCAAoC,aAAc,CAClD,8BAAgC,aAAc,CAC9C,+BAAiC,aAAc,CAC/C,gCAAkC,kBAAA,CAAqB,aAAc,CAErE,oDAAsD,kBAAmB,CACzE,8CAAgD,yBAAA,CAA4B,oBAAuB,CC6InG,UACA,YAAA,CACA,iBAAA,CACA,SAAA,CAGA,sBAAA,CACA,6BAAA,CAAA,qBAAA,CAEA,oCAAA,CACA,aAAA,CACA,qBAAA,CACA,WCpIA,CDwIA,sBAZA,UAAA,CACA,WAAA,CAGA,QAAA,CAKA,SAAA,CACA,8BAAA,CAAA,sBC1HA,CD4HA,YAIA,oBAAA,CACA,gBAAA,CACA,cAAA,CACA,qCCnIA,CDwIA,mCACA,aAAA,CACA,iBCtIA,CD4IA,SACA,aAAA,CACA,eCrIA,CDuIA,gBACA,eCrIA,CDuIA,gBACA,iBCrIA,CDwIA,eAEA,SAAA,CACA,SAAA,CACA,WAAA,CACA,sBAAA,CACA,KAAA,CACA,UAAA,CACA,QCrIA,CDwIA,uBAVA,iBAAA,CAQA,WCjIA,CDmIA,QAEA,SCrIA,CDwIA,yBACA,SAAA,CACA,6BAAA,CAAA,qBCrIA,CD4IA,OACA,aAAA,CACA,iBAAA,CACA,SAAA,CACA,QAAA,CACA,UAAA,CACA,wCAAA,CACA,eAAA,CACA,sBAAA,CACA,iBCrIA,CDuIA,YACA,SCrIA,CDuIA,qBACA,aAAA,CACA,iBAAA,CACA,QAAA,CACA,OAAA,CACA,UAAA,CACA,SAAA,CACA,6BAAA,CAAA,qBCpIA,CDsIA,2BACA,SAAA,CACA,8BAAA,CAAA,sBCnIA,CDqIA,SACA,UAAA,CACA,WAAA,CACA,iBCnIA,CDqIA,SACA,eCnIA,CDqIA,aACA,aAAA,CACA,cCnIA,CDqIA,gBACA,aAAA,CACA,aAAA,CACA,cAAA,CACA,OAAA,CACA,UAAA,CACA,gBAAA,CACA,kBAAA,CACA,iBAAA,CACA,aCnIA,CDqIA,uBACA,aAAA,CACA,UAAA,CACA,iBAAA,CACA,cAAA,CACA,OAAA,CACA,OAAA,CACA,UAAA,CACA,iBCnIA,CDqIA,yBACA,sCAAA,CACA,aAAA,CACA,iBAAA,CACA,iBAAA,CACA,SCnIA,CDsIA,kBACA,UAAA,CACA,cAAA,CACA,aCpIA","file":"vue-jdlstudio.css","sourcesContent":["/*\n\n    Name:       Base16 Default Dark\n    Author:     Chris Kempson (http://chriskempson.com)\n\n    CodeMirror template by Jan T. Sott (https://github.com/idleberg/base16-codemirror)\n    Original Base16 color scheme by Chris Kempson (https://github.com/chriskempson/base16)\n\n*/\n\n.cm-s-base16-dark.CodeMirror { background: #151515; color: #e0e0e0; }\n.cm-s-base16-dark div.CodeMirror-selected { background: #303030; }\n.cm-s-base16-dark .CodeMirror-line::selection, .cm-s-base16-dark .CodeMirror-line > span::selection, .cm-s-base16-dark .CodeMirror-line > span > span::selection { background: rgba(48, 48, 48, .99); }\n.cm-s-base16-dark .CodeMirror-line::-moz-selection, .cm-s-base16-dark .CodeMirror-line > span::-moz-selection, .cm-s-base16-dark .CodeMirror-line > span > span::-moz-selection { background: rgba(48, 48, 48, .99); }\n.cm-s-base16-dark .CodeMirror-gutters { background: #151515; border-right: 0px; }\n.cm-s-base16-dark .CodeMirror-guttermarker { color: #ac4142; }\n.cm-s-base16-dark .CodeMirror-guttermarker-subtle { color: #505050; }\n.cm-s-base16-dark .CodeMirror-linenumber { color: #505050; }\n.cm-s-base16-dark .CodeMirror-cursor { border-left: 1px solid #b0b0b0; }\n\n.cm-s-base16-dark span.cm-comment { color: #8f5536; }\n.cm-s-base16-dark span.cm-atom { color: #aa759f; }\n.cm-s-base16-dark span.cm-number { color: #aa759f; }\n\n.cm-s-base16-dark span.cm-property, .cm-s-base16-dark span.cm-attribute { color: #90a959; }\n.cm-s-base16-dark span.cm-keyword { color: #ac4142; }\n.cm-s-base16-dark span.cm-string { color: #f4bf75; }\n\n.cm-s-base16-dark span.cm-variable { color: #90a959; }\n.cm-s-base16-dark span.cm-variable-2 { color: #6a9fb5; }\n.cm-s-base16-dark span.cm-def { color: #d28445; }\n.cm-s-base16-dark span.cm-bracket { color: #e0e0e0; }\n.cm-s-base16-dark span.cm-tag { color: #ac4142; }\n.cm-s-base16-dark span.cm-link { color: #aa759f; }\n.cm-s-base16-dark span.cm-error { background: #ac4142; color: #b0b0b0; }\n\n.cm-s-base16-dark .CodeMirror-activeline-background { background: #202020; }\n.cm-s-base16-dark .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }\n","<template>\r\n  <div v-bind:class=\"[isActive? 'canvas-mode' : '', 'jdl-editor']\">\r\n    <canvas\r\n      id=\"canvas\"\r\n      v-bind:style=\"{top: canvasStyle.t + 'px',left:canvasStyle.l+'px',width: canvasStyle.w+'px',height:canvasStyle.h+'px'}\"\r\n    ></canvas>\r\n    <textarea id=\"textarea\" ref=\"jdlcode\" v-model=\"code\"></textarea>\r\n    <div\r\n      id=\"canvas-panner\"\r\n      @mouseenter=\"isActive = true\"\r\n      @mousedown=\"mouseDown\"\r\n      @mouseup=\"mouseUp\"\r\n      @mouseleave=\"mouseUp\"\r\n      v-bind:style=\"{width:pannerStyle.w}\"\r\n    ></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport \"core-js\";\r\nimport \"codemirror/theme/base16-dark.css\";\r\nimport _ from \"lodash\";\r\nimport CodeMirror from \"./js/codemirror/codemirror.custom\";\r\nimport nomnoml from \"./js/nomnoml/nomnoml.custom\";\r\nimport skanaar from \"./js/nomnoml/shannar.custom\";\r\n\r\nimport \"codemirror/addon/selection/active-line\";\r\nimport \"codemirror/addon/edit/matchbrackets\";\r\nimport \"codemirror/addon/hint/show-hint\";\r\n\r\nexport default {\r\n  name: \"jdlstudio\",\r\n  data() {\r\n    return {\r\n      cmOptions: {\r\n        // codemirror options\r\n        tabSize: 4,\r\n        mode: \"jdl\",\r\n        theme: \"solarized base16-dark\",\r\n        lineNumbers: true,\r\n        line: true,\r\n        matchBrackets: true,\r\n        smartIndent: true,\r\n        extraKeys: {\r\n          Ctrl: \"autocomplete\"\r\n        }\r\n      },\r\n      code: `\r\nentity Region {\r\n  regionName String\r\n}\r\nentity Country {\r\n\tcountryName String\r\n}\r\nrelationship OneToOne {\r\n\tCountry{region} to Region\r\n}\r\n            `,\r\n      canvasElement: {},\r\n      canvasStyle: {\r\n        t: 0,\r\n        l: 0,\r\n        h: 0,\r\n        w: 0\r\n      },\r\n      pannerStyle: {\r\n        w: \"45%\"\r\n      },\r\n      isActive: false,\r\n      pannerwidth: \"45%\",\r\n      canvasPanner: {},\r\n      vm: {},\r\n      zoomLevel: 0,\r\n      offset: {\r\n        x: 0,\r\n        y: 0\r\n      },\r\n      mouseDownPoint: false,\r\n      editor: {}\r\n    };\r\n  },\r\n  computed: {},\r\n  created() {},\r\n  mounted() {\r\n    this.editor = CodeMirror.fromTextArea(this.$refs.jdlcode, this.cmOptions);\r\n    this.canvasElement = document.getElementById(\"canvas\");\r\n    this.canvasPanner = document.getElementById(\"canvas-panner\");\r\n    this.editor.on(\"changes\", _.debounce(this.sourceChanged, 300));\r\n    this.editor.setSize(\r\n      document.documentElement.clientWidth,\r\n      document.documentElement.clientHeight * 0.95\r\n    );\r\n    this.vm = skanaar.vector;\r\n    window.addEventListener(\r\n      \"resize\",\r\n      _.throttle(this.sourceChanged, 750, { leading: true })\r\n    );\r\n    this.canvasPanner.addEventListener(\"wheel\", _.throttle(this.magnify, 50));\r\n    this.canvasPanner.addEventListener(\r\n      \"mousemove\",\r\n      _.throttle(this.mouseMove, 50)\r\n    );\r\n  },\r\n  methods: {\r\n    magnifyViewport(diff) {\r\n      this.zoomLevel = Math.min(10, this.zoomLevel + diff);\r\n      this.sourceChanged();\r\n    },\r\n    resetViewport() {\r\n      this.zoomLevel = 0;\r\n      this.offset = {\r\n        x: 0,\r\n        y: 0\r\n      };\r\n      this.sourceChanged();\r\n    },\r\n    magnify(e) {\r\n      this.zoomLevel = Math.min(10, this.zoomLevel - (e.deltaY < 0 ? -1 : 1));\r\n      this.sourceChanged();\r\n    },\r\n    positionCanvas(rect, superSampling, offset) {\r\n      var w = rect.width / superSampling;\r\n      var h = rect.height / superSampling - 60;\r\n      var t =\r\n        300 * (1 - h / document.documentElement.clientHeight) + offset.y + 50;\r\n      var l = 150 + (document.documentElement.clientWidth - w) / 2 + offset.x;\r\n      this.canvasStyle = {\r\n        t: t,\r\n        l: l,\r\n        w: w,\r\n        h: h\r\n      };\r\n    },\r\n    sourceChanged() {\r\n      try {\r\n        let superSampling = window.devicePixelRatio || 1;\r\n        let scale = superSampling * Math.exp(this.zoomLevel / 10);\r\n        let model = nomnoml.draw(\r\n          this.canvasElement,\r\n          this.editor.getValue(),\r\n          scale\r\n        );\r\n        this.positionCanvas(this.canvasElement, superSampling, this.offset);\r\n      } catch (e) {\r\n        console.error(e);\r\n      }\r\n    },\r\n    mouseDown(e) {\r\n      this.pannerStyle.w = \"100%\";\r\n      this.mouseDownPoint = this.vm.diff(\r\n        {\r\n          x: e.pageX,\r\n          y: e.pageY\r\n        },\r\n        this.offset\r\n      );\r\n    },\r\n    mouseMove(e) {\r\n      if (this.mouseDownPoint) {\r\n        this.offset = this.vm.diff(\r\n          {\r\n            x: e.pageX,\r\n            y: e.pageY\r\n          },\r\n          this.mouseDownPoint\r\n        );\r\n        this.sourceChanged();\r\n      }\r\n    },\r\n    mouseUp() {\r\n      this.isActive = false;\r\n      this.mouseDownPoint = false;\r\n      this.pannerStyle.w = \"45%\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"css\">\r\n#textarea {\r\n  outline: none;\r\n  position: absolute;\r\n  z-index: 1;\r\n  width: 100%;\r\n  height: auto;\r\n  background: rgba(0, 0, 0, 0);\r\n  box-sizing: border-box;\r\n  border: 0;\r\n  font-family: Consolas, Menlo, monospace;\r\n  color: #657b83;\r\n  padding: 30px 0 0 40px;\r\n  resize: none;\r\n  opacity: 1;\r\n  transition: opacity 0.3s;\r\n}\r\n.CodeMirror {\r\n  height: auto;\r\n  border: 0;\r\n  width: 100%;\r\n  margin: 60px 0 20px 0;\r\n  line-height: 25px;\r\n  font-size: 16px;\r\n  font-family: Consolas, Monaco, monospace;\r\n  opacity: 1;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.CodeMirror .CodeMirror-linenumber {\r\n  color: #3e4350;\r\n  padding-left: 12px;\r\n}\r\n.canvas-mode .CodeMirror {\r\n  opacity: 0;\r\n  transition: opacity 1s;\r\n}\r\n.tools i {\r\n  color: #fdf6e3;\r\n  font-size: 1.2em;\r\n}\r\n.canvas-tools i {\r\n  font-size: 1.5em;\r\n}\r\n.canvas-tools a {\r\n  line-height: 2.5em;\r\n}\r\n\r\n#canvas-panner {\r\n  position: absolute;\r\n  z-index: 3;\r\n  width: 33%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0);\r\n  top: 0;\r\n  right: 20px;\r\n  bottom: 0;\r\n  cursor: move;\r\n}\r\n#canvas {\r\n  position: absolute;\r\n  z-index: 2;\r\n  cursor: move;\r\n}\r\n.canvas-mode .CodeMirror {\r\n  opacity: 0;\r\n  transition: opacity 1s;\r\n}\r\n.canvas-mode .canvas-tools {\r\n  opacity: 1;\r\n  transition: opacity 0.3s;\r\n}\r\n\r\n.tools {\r\n  display: block;\r\n  position: absolute;\r\n  z-index: 4;\r\n  top: 10px;\r\n  right: 20px;\r\n  font-family: Calibri, Helvetica, sans-serif;\r\n  font-weight: bold;\r\n  background: transparent;\r\n  border-radius: 5px;\r\n}\r\n.tools.left {\r\n  left: 20px;\r\n}\r\n.tools .canvas-tools {\r\n  display: block;\r\n  position: absolute;\r\n  top: 60px;\r\n  right: 0;\r\n  width: 24px;\r\n  opacity: 0;\r\n  transition: opacity 1s;\r\n}\r\n.canvas-mode .canvas-tools {\r\n  opacity: 1;\r\n  transition: opacity 0.3s;\r\n}\r\n.tools i {\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-bottom: 5px;\r\n}\r\n.tools > a {\r\n  margin-left: 5px;\r\n}\r\n.tools > .logo {\r\n  color: #fdf6e3;\r\n  font-size: 150%;\r\n}\r\n.tools > #tooltip {\r\n  font-size: 90%;\r\n  color: #807c72;\r\n  position: fixed;\r\n  top: 7px;\r\n  right: 20px;\r\n  text-align: right;\r\n  background: rgb(40, 44, 52);\r\n  border-radius: 2px;\r\n  padding: 0 5px;\r\n}\r\n.tools > #storage-status {\r\n  color: #fdf6e3;\r\n  opacity: 0.5;\r\n  font-style: italic;\r\n  position: fixed;\r\n  top: 7px;\r\n  right: 0;\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n.tools > #storage-status a {\r\n  border: 2px solid rgba(255, 246, 223, 0.63);\r\n  padding: 0 5px;\r\n  border-radius: 4px;\r\n  font-style: normal;\r\n  opacity: 1;\r\n}\r\n\r\n.tools .seperator {\r\n  color: white;\r\n  font-size: 25px;\r\n  margin: 0 10px;\r\n}\r\n</style>\r\n","/*\n\n    Name:       Base16 Default Dark\n    Author:     Chris Kempson (http://chriskempson.com)\n\n    CodeMirror template by Jan T. Sott (https://github.com/idleberg/base16-codemirror)\n    Original Base16 color scheme by Chris Kempson (https://github.com/chriskempson/base16)\n\n*/\n\n.cm-s-base16-dark.CodeMirror { background: #151515; color: #e0e0e0; }\n.cm-s-base16-dark div.CodeMirror-selected { background: #303030; }\n.cm-s-base16-dark .CodeMirror-line::-moz-selection, .cm-s-base16-dark .CodeMirror-line > span::-moz-selection, .cm-s-base16-dark .CodeMirror-line > span > span::-moz-selection { background: rgba(48, 48, 48, .99); }\n.cm-s-base16-dark .CodeMirror-line::selection, .cm-s-base16-dark .CodeMirror-line > span::selection, .cm-s-base16-dark .CodeMirror-line > span > span::selection { background: rgba(48, 48, 48, .99); }\n.cm-s-base16-dark .CodeMirror-line::-moz-selection, .cm-s-base16-dark .CodeMirror-line > span::-moz-selection, .cm-s-base16-dark .CodeMirror-line > span > span::-moz-selection { background: rgba(48, 48, 48, .99); }\n.cm-s-base16-dark .CodeMirror-gutters { background: #151515; border-right: 0px; }\n.cm-s-base16-dark .CodeMirror-guttermarker { color: #ac4142; }\n.cm-s-base16-dark .CodeMirror-guttermarker-subtle { color: #505050; }\n.cm-s-base16-dark .CodeMirror-linenumber { color: #505050; }\n.cm-s-base16-dark .CodeMirror-cursor { border-left: 1px solid #b0b0b0; }\n\n.cm-s-base16-dark span.cm-comment { color: #8f5536; }\n.cm-s-base16-dark span.cm-atom { color: #aa759f; }\n.cm-s-base16-dark span.cm-number { color: #aa759f; }\n\n.cm-s-base16-dark span.cm-property, .cm-s-base16-dark span.cm-attribute { color: #90a959; }\n.cm-s-base16-dark span.cm-keyword { color: #ac4142; }\n.cm-s-base16-dark span.cm-string { color: #f4bf75; }\n\n.cm-s-base16-dark span.cm-variable { color: #90a959; }\n.cm-s-base16-dark span.cm-variable-2 { color: #6a9fb5; }\n.cm-s-base16-dark span.cm-def { color: #d28445; }\n.cm-s-base16-dark span.cm-bracket { color: #e0e0e0; }\n.cm-s-base16-dark span.cm-tag { color: #ac4142; }\n.cm-s-base16-dark span.cm-link { color: #aa759f; }\n.cm-s-base16-dark span.cm-error { background: #ac4142; color: #b0b0b0; }\n\n.cm-s-base16-dark .CodeMirror-activeline-background { background: #202020; }\n.cm-s-base16-dark .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }\n\n\n#textarea {\r\n  outline: none;\r\n  position: absolute;\r\n  z-index: 1;\r\n  width: 100%;\r\n  height: auto;\r\n  background: rgba(0, 0, 0, 0);\r\n  -webkit-box-sizing: border-box;\r\n          box-sizing: border-box;\r\n  border: 0;\r\n  font-family: Consolas, Menlo, monospace;\r\n  color: #657b83;\r\n  padding: 30px 0 0 40px;\r\n  resize: none;\r\n  opacity: 1;\r\n  -webkit-transition: opacity 0.3s;\r\n  transition: opacity 0.3s;\n}\n.CodeMirror {\r\n  height: auto;\r\n  border: 0;\r\n  width: 100%;\r\n  margin: 60px 0 20px 0;\r\n  line-height: 25px;\r\n  font-size: 16px;\r\n  font-family: Consolas, Monaco, monospace;\r\n  opacity: 1;\r\n  -webkit-transition: opacity 0.3s;\r\n  transition: opacity 0.3s;\n}\n.CodeMirror .CodeMirror-linenumber {\r\n  color: #3e4350;\r\n  padding-left: 12px;\n}\n.canvas-mode .CodeMirror {\r\n  opacity: 0;\r\n  -webkit-transition: opacity 1s;\r\n  transition: opacity 1s;\n}\n.tools i {\r\n  color: #fdf6e3;\r\n  font-size: 1.2em;\n}\n.canvas-tools i {\r\n  font-size: 1.5em;\n}\n.canvas-tools a {\r\n  line-height: 2.5em;\n}\n#canvas-panner {\r\n  position: absolute;\r\n  z-index: 3;\r\n  width: 33%;\r\n  height: 100%;\r\n  background: rgba(0, 0, 0, 0);\r\n  top: 0;\r\n  right: 20px;\r\n  bottom: 0;\r\n  cursor: move;\n}\n#canvas {\r\n  position: absolute;\r\n  z-index: 2;\r\n  cursor: move;\n}\n.canvas-mode .CodeMirror {\r\n  opacity: 0;\r\n  -webkit-transition: opacity 1s;\r\n  transition: opacity 1s;\n}\n.canvas-mode .canvas-tools {\r\n  opacity: 1;\r\n  -webkit-transition: opacity 0.3s;\r\n  transition: opacity 0.3s;\n}\n.tools {\r\n  display: block;\r\n  position: absolute;\r\n  z-index: 4;\r\n  top: 10px;\r\n  right: 20px;\r\n  font-family: Calibri, Helvetica, sans-serif;\r\n  font-weight: bold;\r\n  background: transparent;\r\n  border-radius: 5px;\n}\n.tools.left {\r\n  left: 20px;\n}\n.tools .canvas-tools {\r\n  display: block;\r\n  position: absolute;\r\n  top: 60px;\r\n  right: 0;\r\n  width: 24px;\r\n  opacity: 0;\r\n  -webkit-transition: opacity 1s;\r\n  transition: opacity 1s;\n}\n.canvas-mode .canvas-tools {\r\n  opacity: 1;\r\n  -webkit-transition: opacity 0.3s;\r\n  transition: opacity 0.3s;\n}\n.tools i {\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-bottom: 5px;\n}\n.tools > a {\r\n  margin-left: 5px;\n}\n.tools > .logo {\r\n  color: #fdf6e3;\r\n  font-size: 150%;\n}\n.tools > #tooltip {\r\n  font-size: 90%;\r\n  color: #807c72;\r\n  position: fixed;\r\n  top: 7px;\r\n  right: 20px;\r\n  text-align: right;\r\n  background: rgb(40, 44, 52);\r\n  border-radius: 2px;\r\n  padding: 0 5px;\n}\n.tools > #storage-status {\r\n  color: #fdf6e3;\r\n  opacity: 0.5;\r\n  font-style: italic;\r\n  position: fixed;\r\n  top: 7px;\r\n  right: 0;\r\n  width: 100%;\r\n  text-align: center;\n}\n.tools > #storage-status a {\r\n  border: 2px solid rgba(255, 246, 223, 0.63);\r\n  padding: 0 5px;\r\n  border-radius: 4px;\r\n  font-style: normal;\r\n  opacity: 1;\n}\n.tools .seperator {\r\n  color: white;\r\n  font-size: 25px;\r\n  margin: 0 10px;\n}\r\n\n\n/*# sourceMappingURL=vue-jdlstudio.css.map*/"]}